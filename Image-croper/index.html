<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Image Croper</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="./css/style.css">
</head>

<body class="bg-gray-100 font-sans p-6">
    <div class="max-w-xl mx-auto">
        <h1 class="text-2xl font-semibold mb-4 text-center">Image Croper</h1>

        <div class="bg-white p-4 rounded-lg shadow">
            <div class="mb-4">
                <label class="block text-sm font-medium text-gray-700 mb-2">Open a photo</label>
                <input id="fileInput" type="file" accept="image/*" class="block w-full text-sm" />
            </div>

            <div class="flex gap-4 items-start">
                <div class="w-2/3">
                    <div id="canvasWrap"
                        class="border rounded-md bg-gray-200 p-4 flex justify-center items-center overflow-hidden"
                        style="min-height:320px; width:100%; max-height:400px;">
                        <div id="cropContainer"
                            class="relative crop-area hidden w-full h-full flex justify-center items-center">
                            <img id="sourceImage" alt="source"
                                class="w-full h-full object-cover select-none pointer-events-none" />

                            <!-- crop box -->
                            <div id="cropBox" class="crop-box hidden"
                                style="width: 220px; height:220px; left: 70px; top:40px;">
                                <div class="handle nw"></div>
                                <div class="handle ne"></div>
                                <div class="handle sw"></div>
                                <div class="handle se"></div>
                                <div class="handle n"></div>
                                <div class="handle s"></div>
                                <div class="handle w"></div>
                                <div class="handle e"></div>
                                <!-- optional grid lines inside crop box -->
                                <div class="grid-line" style="height:1px; left:0; right:0; top:33.33%;"></div>
                                <div class="grid-line" style="height:1px; left:0; right:0; top:66.66%;"></div>
                                <div class="grid-line" style="width:1px; top:0; bottom:0; left:33.33%;"></div>
                                <div class="grid-line" style="width:1px; top:0; bottom:0; left:66.66%;"></div>
                            </div>
                        </div>
                    </div>

                    <div class="mt-3 flex flex-wrap gap-2">
                        <button data-aspect="16:9" class="aspect-btn px-3 py-1 rounded-full border">16:9</button>
                        <button data-aspect="4:3" class="aspect-btn px-3 py-1 rounded-full border">4:3</button>
                        <button data-aspect="1:1" class="aspect-btn px-3 py-1 rounded-full border">1:1</button>
                        <button data-aspect="2:3" class="aspect-btn px-3 py-1 rounded-full border">2:3</button>
                        <button data-aspect="free" class="aspect-btn px-3 py-1 rounded-full border">Free</button>
                    </div>

                    <div class="mt-3 flex gap-2">
                        <button id="rotateBtn" class="px-3 py-2 rounded bg-indigo-600 text-white">Rotate 90Â°</button>
                        <button id="flipBtn" class="px-3 py-2 rounded border">Flip H</button>
                        <button id="previewBtn" class="px-3 py-2 rounded bg-green-600 text-white">Preview</button>
                        <button id="downloadBtn" class="px-3 py-2 rounded bg-blue-600 text-white">Download</button>
                    </div>
                </div>

                <div class="w-1/3">
                    <div class="text-sm text-gray-600 mb-2">Preview / Output</div>
                    <div class="bg-white border rounded p-2 min-h-[200px] flex items-center justify-center">
                        <canvas id="previewCanvas" class="max-w-full"></canvas>
                    </div>
                </div>
            </div>

        </div>

        <p class="text-xs text-gray-500 mt-3">Tip: Drag the crop box to move, drag handles to resize. Use aspect buttons
            to lock ratios.</p>
    </div>

    <script src="./js/script.js"></script>
</body>

</html>